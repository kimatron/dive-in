{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">Welcome to Dive In</h1>
        <p class="hero-subtitle">Explore the depths of knowledge and inspiration through our curated collection of insights and stories.</p>
        <a href="#featured-posts" class="hero-button">Start Reading</a>
    </div>
</section>

<!-- Featured Posts Section -->
<section id="featured-posts" class="featured-posts-section">
    <div class="container">
        <h2 class="section-title">Featured Posts</h2>
        <div class="featured-posts-grid">
            {% for post in featured_posts %}
            <article class="post-card featured">
                <a href="{% url 'post_detail' post.slug %}" class="post-card-link">
                    <div class="post-card__image-wrapper">
                        {% if post.featured_image %}
                        <img src="{{ post.featured_image.url }}" 
                             alt="{{ post.title }}" 
                             class="post-card__image">
                        {% else %}
                        <img src="{% static 'images/divinlogolight.png' %}" 
                             alt="{{ post.title }}" 
                             class="post-card__image">
                        {% endif %}
                    </div>
                    <div class="post-card__content">
                        <span class="post-card__category">Featured</span>
                        <h2 class="post-card__title">{{ post.title }}</h2>
                        <p class="post-card__excerpt">{{ post.excerpt }}</p>
                        <div class="post-card__meta">
                            <div class="post-card__author">
                                <span>{{ post.author }}</span>
                            </div>
                            <time class="post-card__date">{{ post.created_on|date:"F j, Y" }}</time>
                        </div>
                    </div>
                </a>
            </article>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Recent Posts Section -->
<section class="recent-posts-section">
    <div class="container">
        <h2 class="section-title">Recent Posts</h2>
        <div class="posts-grid">
            {% for post in post_list %}
            <article class="post-card">
                <a href="{% url 'post_detail' post.slug %}" class="post-card-link">
                    <div class="post-card__image-wrapper">
                        {% if post.featured_image %}
                        <img src="{{ post.featured_image.url }}" 
                             alt="{{ post.title }}" 
                             class="post-card__image"
                             loading="lazy">
                        {% else %}
                        <img src="{% static 'images/divinlogolight.png' %}" 
                             alt="{{ post.title }}" 
                             class="post-card__image"
                             loading="lazy">
                        {% endif %}
                    </div>
                    <div class="post-card__content">
                        <span class="post-card__category">Blog</span>
                        <h2 class="post-card__title">{{ post.title }}</h2>
                        <p class="post-card__excerpt">{{ post.excerpt|truncatewords:20 }}</p>
                        <div class="post-card__meta">
                            <div class="post-card__author">
                                <span>{{ post.author }}</span>
                            </div>
                            <time class="post-card__date">{{ post.created_on|date:"F j, Y" }}</time>
                        </div>
                    </div>
                </a>
            </article>
            {% endfor %}
        </div>
    </div>

    <!-- Pagination -->
    {% if is_paginated %}
    <nav aria-label="Page navigation" class="pagination-container">
        <ul class="pagination">
            {% if page_obj.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                    <span>&laquo; Prev</span>
                </a>
            </li>
            {% endif %}
            
            {% for num in page_obj.paginator.page_range %}
            <li class="page-item {% if page_obj.number == num %}active{% endif %}">
                <a class="page-link" href="?page={{ num }}">{{ num }}</a>
            </li>
            {% endfor %}
            
            {% if page_obj.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">
                    <span>Next &raquo;</span>
                </a>
            </li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}
</section>

{% endblock %}